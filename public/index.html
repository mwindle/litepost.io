<!DOCTYPE html>
<html lang="en" ng-app="liveBlogApp" ng-controller="MainCtrl">
	<head>
		<title>Live Blogging Application</title>
		<base href="/" />
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" />
		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Oxygen" />
		<link rel="stylesheet" href='//fonts.googleapis.com/css?family=Oswald:400,300,700' />
		<link rel="stylesheet" href="/css/bootstrap-markdown.css" />
		<link rel="stylesheet" href="/css/styles.css" />
	</head>
	<body>
		<div id="top-bar" class="clearfix text-center">
			<div class="button-group pull-left">
				<button class="btn btn-link btn-xs">Event Name</button>
			</div>
			<button id="toggle-edit" class="btn btn-primary" ng-click="enableEditing()" ng-show="!editing"><span class="glyphicon glyphicon-edit"></span> New Message</button>
			<div class="button-group pull-right">
				<button class="btn btn-default"><span class="glyphicon glyphicon-plus-sign"></span> New Event</button>
				<button class="btn btn-link">Marc</button>
		  </div>
	  </div>
	  <div class="main-content">
	  	<h1 class="text-center">
	  	An <span class="emphasize">Awesome</span> Event
	  	</h1>
		  <div class="typing-status" ng-show="typing">
		  	<span><span ng-show="typing.author">{{typing.author}} is </span>typing...</span>
		  </div>
			<ol id="messages">
				<li class="message" ng-repeat="message in messages" ng-include="'message-template.html'" />
			</ol>
		</div>
		<div id="editor" ng-show="editing">
			<div id="editor-panel" class="clearfix text-center">
				<textarea id="m" class="md-input" rows="5"></textarea>
			</div>
			<div id="preview-panel">
				<ol id="message-preview">
					<li class="message" ng-repeat="message in [editingMessage]" ng-include="'message-template.html'" />
				</ol>
			</div>
			<div id="action-panel">
				<button id="close-editor" class="btn btn-default" ng-click="disableEditing()"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
				<button id="publish" class="btn btn-primary pull-right" ng-click="publish()" ng-show="!editingMessage._id"><span class="glyphicon glyphicon-share"></span> Publish</button>
				<button id="update" class="btn btn-primary pull-right" ng-click="update()" ng-show="editingMessage._id"><span class="glyphicon glyphicon-edit"></span> Update</button>
				<button id="delete" class="btn btn-danger pull-right" ng-click="delete()" ng-show="editingMessage._id"><span class="glyphicon glyphicon-trash"></span> Delete</button>
			</div>
		</div>

		<script src="components/jquery/dist/jquery.js"></script>
		<script src="components/socket.io-client/socket.io.js"></script>
		<script src="components/moment/moment.js"></script>
		<script src="components/marked/lib/marked.js"></script>
		<script src="components/bootstrap-markdown/js/bootstrap-markdown.js"></script>
		<script src="components/angular/angular.js"></script>
		<script src="components/angular-resource/angular-resource.js"></script>
		<script src="components/angular-route/angular-route.js"></script>
		<script src="components/angular-sanitize/angular-sanitize.js"></script>
		<script src="components/angular-moment/angular-moment.js"></script>
		<script src="js/app.js"></script>
		
		<script type="text/ng-template" id="message-template.html">
				<div class="message-sent">
					<div class="sent-time" am-time-ago="message.sent"></div>
					<button class="edit-message btn btn-xs btn-default" ng-click="enableEditing(message)" ng-show="message._id">Edit</button>
				</div>
				<div class="message-text" ng-bind-html="message.html"></div>
		</script>

	</body>
</html>